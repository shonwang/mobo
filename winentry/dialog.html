<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
</head>
<body>
<script type="text/javascript" src="../common/libs/module.js"></script>
<link rel="stylesheet" href="../common/view/menu/menu.css"></link><link rel="stylesheet" href="../common/view/grid/grid.css"></link><link rel="stylesheet" href="../common/view/scrollerProxy/proxy.css"></link><link rel="stylesheet" href="../common/view/popup/popup.css"></link><link rel="stylesheet" href="../common/view/sidebar/sidebar.css"></link><link rel="stylesheet" href="../common/view/header/header.css"></link><link rel="stylesheet" href="../common/view/header/login.css"></link><link rel="stylesheet" href="../common/view/header/selectPortrait.css"></link><link rel="stylesheet" href="../common/view/window/window.css"></link><link rel="stylesheet" href="../common/view/typeahead/style.css"></link><link rel="stylesheet" href="../common/view/smartTip/style.css"></link><link rel="stylesheet" href="../common/view/chatBox/chatBox.css"></link><link rel="stylesheet" href="../common/view/dialog/style.css"></link><link rel="stylesheet" href="../common/view/connGuide/style.css"></link><link rel="stylesheet" href="../common/view/aboutMe/style.css"></link><link rel="stylesheet" href="../common/view/setting/style.css"></link><link rel="stylesheet" href="../common/view/driverAdapter/style.css"></link><link rel="stylesheet" href="../common/view/friendlyConn/style.css"></link><link rel="stylesheet" href="../common/view/loading/style.css"></link><link rel="stylesheet" href="../common/view/imagePlayer/style.css"></link><link rel="stylesheet" href="../common/view/progress/progress.css"></link><link rel="stylesheet" href="../common/view/toolTip/style.css"></link><link rel="stylesheet" href="../common/view/setTips/style.css"></link><link rel="stylesheet" href="../common/view/newbieGuide/style.css"></link><link rel="stylesheet" href="../common/view/egg/egg.css"></link><link rel="stylesheet" href="../common/view/getAdbState/style.css"></link><link rel="stylesheet" href="../common/style/base.css"></link><link rel="stylesheet" href="../common/style/ar/local.css"></link><link rel="stylesheet" href="../common/style/ar/side/side.css"></link><link rel="stylesheet" href="../common/style/ar/header/header.css"></link><link rel="stylesheet" href="../common/style/ar/home/home.css"></link><link rel="stylesheet" href="../common/style/ar/mycontacts/mycontacts.css"></link><link rel="stylesheet" href="../common/style/ar/myapps/myapps.css"></link><link rel="stylesheet" href="../common/style/ar/mymessages/mymessages.css"></link><link rel="stylesheet" href="../common/style/ar/mymusic/mymusic.css"></link><link rel="stylesheet" href="../common/style/ar/myvideos/myvideos.css"></link><link rel="stylesheet" href="../common/style/ar/toolkit/toolkit.css"></link><link rel="stylesheet" href="../common/style/ar/popup/popup.css"></link><link rel="stylesheet" href="../common/style/ar/feedback/feedback.css"></link><link rel="stylesheet" href="../home/view/style.css"></link><link rel="stylesheet" href="../contact/view/style.css"></link><link rel="stylesheet" href="../application/view/style.css"></link><link rel="stylesheet" href="../image/view/style.css"></link><link rel="stylesheet" href="../sms/view/style.css"></link><link rel="stylesheet" href="../video/view/style.css"></link><link rel="stylesheet" href="../book/view/style.css"></link><link rel="stylesheet" href="../music/view/style.css"></link><link rel="stylesheet" href="../taskManager/view/style.css"></link><link rel="stylesheet" href="../tools/view/toolsMainView/style.css"></link><link rel="stylesheet" href="../tools/view/backupRestoreView/style.css"></link><link rel="stylesheet" href="../tools/view/fileManagerView/style.css"></link><link rel="stylesheet" href="../tools/view/deviceInfoView/style.css"></link><link rel="stylesheet" href="../tools/view/pcCleanerView/style.css"></link><link rel="stylesheet" href="../tools/view/wifiHotPot/style.css"></link><link rel="stylesheet" href="../feedback/view/style.css"></link><link rel="stylesheet" href="../genie/view/style.css"></link>
<script type="text/javascript">
    genie.use('UIWindow', function(require){
        var UIWindow = require('UIWindow');
        var $ = require('jquery');
        var utils = require('utils');
        var i18nDi  = require('I18NDI');
        
        var win = new UIWindow();
        win.addClass('g-ui-dialog');
        win.show();
        
        var paras = JSON.parse(utils.getParameter('Parame'));
        
        var footerCtn = $('<div class="g-dialog-footer"></div>');
        var $rememberChecker = $("<div style='-webkit-box-flex: 1;padding-left: 13px;' class='te'><input class='checkbox rememberChecker' style='vertical-align: middle;margin-top: -3px;'type='checkbox'/> "+i18nDi.fillDomText('common.rememberMarkLabel')+"</div>");
        var $okBtn = $("<button class='g-btn g-btn2 ok'> "+i18nDi.fillDomText('common.okLabel')+"</button>");
        var $noBtn = $("<button class='g-btn g-btn4 cancel'>"+i18nDi.fillDomText('common.noLabel')+"</button>");
        var $cancelBtn = $("<button class='g-btn g-btn4 cancel'>"+i18nDi.fillDomText('common.cancelLabel')+"</button>");
        var $yesBtn = $("<button class='g-btn g-btn2 yes'>"+i18nDi.fillDomText('common.yesLabel')+"</button>");
        
        var $yesBtnMinor = $("<button class='g-btn g-btn4 yes'>"+i18nDi.fillDomText('common.yesLabel')+"</button>");
        var $cancelBtnMain = $("<button class='g-btn g-btn2 cancel'>"+i18nDi.fillDomText('common.cancelLabel')+"</button>");
        
        var $retryBtn = $("<button class='g-btn g-btn2 ok'>"+i18nDi.fillDomText('common.retryText')+"</button>");
        
        if(paras.hasRememberCheck){
             footerCtn.prepend($rememberChecker);
        }
        if(paras.buttonKey === 1){
            footerCtn.append($okBtn).append($noBtn);
        }else if(paras.buttonKey === 2){
            footerCtn.append($okBtn);
        }else if(paras.buttonKey === 3){
            footerCtn.append($yesBtn).append($noBtn);
        }else if( paras.buttonKey === 4 ){
        	 footerCtn.append($yesBtnMinor).append($cancelBtnMain);
        }else if( paras.buttonKey === 5 ){
        	footerCtn.append($retryBtn).append($cancelBtn);
        }
        
        if(paras.isTitleKey){
           win.setHeader(i18nDi.fillDomText(paras.title)); 
        }else{
            win.setHeader(paras.title || i18nDi.fillDomText('common.tipLabel'));            
        }
        
        win.setFooter(footerCtn);
        
        //填充dialog内容
        var content;
        if(paras.contentConfig&&paras.contentConfig.i18nValues){
            content=i18nDi.fillDomText.apply(this,paras.contentConfig.i18nValues);
            win.setContent(content);
        }else if(paras.content){
            win.setContent(paras.content);
        }
        win.on('close', function(){
            win.notifyParentWindow({
                action: 'close'
            });
        });
        
        footerCtn.delegate('.ok', 'click', function(){
            win.notifyParentWindow({
                action: 'ok'
            });
            win.off('close');
            win.close();
        });
        
        footerCtn.delegate('.rememberChecker', 'click', function(){
            win.notifyParentWindow({
                action: 'remember',
                value:footerCtn.find(".rememberChecker")[0].checked
            });
        });        
        
        footerCtn.delegate('.cancel', 'click', function(){
            win.notifyParentWindow({
                action: 'cancel'
            }); 
            win.off('close');
            win.close();
        });
        
        footerCtn.delegate('.yes', 'click', function(){
            win.notifyParentWindow({
                action: 'yes'
            }); 
            win.off('close');
            win.close();
        });
        
        win.on("message",function(data){
            if(data.info.todo&&data.info.todo=="close"){
                win.close();
            }else if(data.info.todo=="setContent"&&data.info.value){
                 win.setContent(data.info.value);
            }else if(data.info.todo=="setTitle"&&data.info.value){
                 win.setHeader(data.info.value);     
            }
        });
        
    });
</script>
</body>
</html>